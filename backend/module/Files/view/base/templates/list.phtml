<?php echo $this->partial('layout/header.phtml'); $title = explode("/",$route); $perm = str_replace('_','-',$title[1]); $title = str_replace("_"," ",$title[1]); $this->headTitle($title); $add=in_array(sprintf("%s-add",$perm),$perms)?true:false; $delete=in_array(sprintf("%s-delete",$perm),$perms)?true:false; $edit=in_array(sprintf("%s-edit",$perm),$perms)?true:false; if(isset($display_fields)) { $keys = $display_fields; }else{ $keys=array_keys(get_object_vars($paginator->getCurrentItems()->getArrayObjectPrototype())); sort($keys); } ?><h1><?php echo $this->escapeHtml($title); ?></h1><?php if($msg!=''){ ?><div class="alert alert-success"><?php echo $msg; ?></div><?php } ?><?php if($add){ ?><p><a class="btn btn-success" href="<?php echo $this->url($route, array('action'=>'add'));?>"><i class="glyphicon glyphicon-plus"></i>Add new</a></p><?php } ?><div class="table-responsive"><table class="table table-striped table-bordered table-hover table-condensed"><tr><?php foreach ($keys as $key) { ?><td><?php echo ucfirst($key); ?></td><?php } ?><td></td></tr><?php foreach ($paginator as $page) { echo "<tr>"; foreach ($keys as $key) { echo "<td>".$page->{$key}.'</td>'; } ?><td><?php if($edit){ ?><a class="btn btn-xs btn-warning" href="<?php echo $this->url($route,
                    array('action'=>'add', 'id' => $page->id));?>"><i class="glyphicon glyphicon-pencil"></i> Edit</a><?php }?><?php if($delete){ ?> <a class="btn btn-xs btn-danger" data-modal="#modal-confirm" data-target="<?php echo $this->url($route,
                    array('action'=>'delete', 'id' => $page->id));?>"><i class="glyphicon glyphicon-remove"></i>Delete</a><?php }?></td><?php echo "</tr>"; } ?></table><script src="<?php echo $this->basePath(). '/cms/js/bootstrap-confirm.js' ?>"></script><?php echo $this->paginationControl( $this->paginator, // the scrolling style 'sliding', // the partial to use to render the control array('layout/slidePaginator.phtml', 'Users'), // the route to link to when a user clicks a control link array( 'route' => $route ) ); ?></div><?php echo $this->partial('layout/footer.phtml'); ?>