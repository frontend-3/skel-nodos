define(["jquery-ui"],function(){function t(){$.ui.autocomplete.prototype._renderItem=function(e,t){var r=new RegExp("^"+this.term,"i");if(t.label!=="Ejemplo:"){var i=t.label.replace(r,"<span class='highlight-item'>"+n(query)+"</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+i+"</a>").appendTo(e)}return $("<li class='suggest-item'></li>").data("item.autocomplete",t).append("<a>"+t.label+"</a>").appendTo(e)}}function n(e){return e.toUpperCase()}function r(t,n,r){var i=[{label:"Ejemplo:",id:"0"},{label:"MIRAFLORES, LIMA",id:"15-01-22",slug:"MIRAFLORES-LIMA-LIMA"},{label:"CERCADO DE LIMA, LIMA",id:"15-01-01",slug:"CERCADO-DE-LIMA-LIMA-LIMA"}],s=Array();t.autocomplete({source:function(e,n){query=t.val();if(query.length>0){var r=t.attr("data-source");$.getJSON(r,{name:query},n),n(i)}else query.length==0?n(i):n(s)},minLength:0,messages:{noResults:"",results:function(){return""}},focus:function(e,n){query=t.val();if(query.length==0)return!1},select:function(e,i){t.val(i.item.label),n.val(i.item.slug),r()}}),$(window).on("resize",function(){clearTimeout(e),e=setTimeout(function(){$(".ui-autocomplete").css("display","none")},500)})}function i(e){var n=e.el,i=e.hidden_el,s=e.callback,o=n.attr("data-source");t(),r(n,i,s),n.on("click",function(){$(this).autocomplete("search")}),n.on("keyup",function(e){event.keyCode==8&&i.val("")}),n.trigger("click")}var e;return i});